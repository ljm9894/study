# MSA
Micro Service Architecture의 약자

 ### 개요
 ---
 - 요즘 기업 대부분이 MSA 아키텍처를 채택하여 사용하고 있습니다. 그런 부분에서 시대에 맞추어가기 위해 MSA에 대한 공부 필요성을 느꼈습니다.
 -  프로젝트 포트폴리오를 작성하면서 MSA를 사용한 프로젝트가 있었습니다. MSA에 대한 자세한 이론도 모르고 무작정 개발하여 포트폴리오에 설명이 어려웠습니다. 취업을 할 때 필요한 지식이라고 생각하여 공부를 시작하게 되었습니다.

 ### MSA란?
 ---
![image](https://github.com/ljm9894/study/assets/104000115/013ddfd3-2bb2-497c-833a-b9e446cbccea)

MSA를 알기 전에 Monolithic Architecture의 정의부터 간단하게 짚고 넘어가도록 하겠습니다. Monolithic은 위에 사진과 같이 한 프로젝트가 모두 통합되어 있는 구조 입니다. 예를 들면 큰 박스 안에 여러 작은 박스가 있는 구조라고 생각하시면 편합니다. 반면 MicroService는 큰 박스가 여러개로 나누어져있다고 생각하시면 됩니다. 여러 서비스로 나누어져 있기에 각각 독립적으로 배포가 가능하고 각각의 기능을 수행하는 서비스로 구성되어 있는 아키텍처 입니다. 또한 서비스 별로 다른 기술 스택을 사용할 수 있습니다.

### Monolithic Architecture의 한계
---
모놀리식은 한 프로젝트에 모든 것이 통합되어 있는 형태입니다. 하지만 규모가 훨씬 큰 프로젝트의 경우 머리가 빠질 수 있습니다.
이유는 이러합니다.

1. 부분적인 서비스 장애가 전체 서비스에 장애를 끼칠 수 있습니다. -> 시간 낭비할 수 있음
2. 부분적인 Scale-out(여러 server로 나누어 일을 처리하는 방식)이 어렵다.
- 로직들이 모두 겹쳐져 있고 강하게 결합되어 있어 수정이 어렵다 -> 유지보수가 어렵다.

3. **배포 시간이 오래 걸린다.**
- 프로젝트에 규모가 커지면 작은 수준의 변경도 비용이 크게 들 수 있고 많은 사람이 하나의 프로젝트를 개발한다고 가정했을 때 영향을 안 줄 수가 없다. -> 프로젝트 개발 기한 증대

이러한 문제점을 보완하기 위해 MSA 아키텍처가 등장하였고 기존의 모놀리식 아키텍처에서 MSA 아키텍처로 빠르게 전환되는 추세 입니다.

### MSA 아키텍처의 장점
---
1. 각각의 서비스가 모듈화 되어 있기 때문에 목적하는 서비스를 **유지보수 하기 편리**합니다.

2. 서비스 별로 **다른 개발 언어**를 사용할 수 있습니다. 팀에 개발 언어가 달라도 문제가 없고 각각의 기능에 따라 프레임워크를 선정하여 개발할 수도 있습니다.

3. 마이크로서비스는 독립적으로 배포가 가능합니다. 예를들어 로직 변경사항이 있어 로직을 변경할 때 필요한 서비스를 찾아 그 서비스에 해당하는 로직만 변경하고 배포가 가능합니다. 이 말은 **지속적인 배포가 가능합니다.**


### MSA 아키텍처 단점
---

1. 복잡하다.
- 여러 서비스를 관리하고 모니터링해야 되기에 복잡성을 증가시킵니다. 
2. 성능
MSA 는 API만을 통해 호출할 수 있습니다. 그렇기에 통신 비용이나 지연시간에 대한 문제점이 존재합니다. 

3. 테스트/데이터 트랜잭션
- 서비스 별로 DB가 다르고 데이터도 다릅니다. 서비스의 연결을 할 때 통신을 해야하기에 트랜잭션을 유지하는게 어렵다.
- 실제 배포 환경과 개발환경이 다르기 때문에 테스트가 어렵다.


### 🤚MSA 아키텍처를 채택해야 할 경우
---
- 프로젝트 규모가 매우 클 경우
    - 프로젝트 규모가 적을 때는 단순한 아키텍처를 사용하여 충분히 구현할 수 있습니다.
    - 불필요한 추가비용이 소요될 수 있습니다.
- 팀원과의 개발 언어가 다를 때 또는 다양한 기술을 도입할 경우
- 빠른 개발 및 출시
- 빠른 피드백 수렴 및 업데이트


### 개인적 생각
생각보다 MSA라는 것이 공부해보니 복잡하고 어려운 것을 느꼈습니다. 단순하게 생각했을 때는 쉽다고 느낄 수 있는데 더욱 심화하여 공부하다 보니 이해가 잘 되지 않았습니다. 그렇기에 글에 수준이 좀 떨어질 수 있습니다. MSA에 대한 공부를 하면서 이해하기 쉬운 글로 수정할 수 있도록 노력 해보겠습니다.
